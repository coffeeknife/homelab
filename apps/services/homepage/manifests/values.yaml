image:
  tag: v1.8.0

enableRbac: true

service:
  main:
    ports:
      http:
        port: 3000

resources:
  requests:
    memory: 256Mi
    cpu: 50m
  limits:
    memory: 512Mi
    cpu: 200m

probes:
  liveness:
    enabled: true
    custom: true
    spec:
      httpGet:
        path: /
        port: 3000
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3
  readiness:
    enabled: true
    custom: true
    spec:
      httpGet:
        path: /
        port: 3000
      initialDelaySeconds: 15
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3
  startup:
    enabled: true
    custom: true
    spec:
      httpGet:
        path: /
        port: 3000
      initialDelaySeconds: 10
      periodSeconds: 5
      timeoutSeconds: 5
      failureThreshold: 60

env:
  - name: HOMEPAGE_ALLOWED_HOSTS
    value: wrenspace.dev

ingress:
  main:
    enabled: true
    ingressClassName: traefik
    annotations:
      cert-manager.io/cluster-issuer: cert-issuer
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
    hosts:
      - host: wrenspace.dev
        paths:
          - path: /
            pathType: Prefix
    tls:
      - hosts:
          - wrenspace.dev
        secretName: homepage-tls

config:
  kubernetes:
    mode: cluster
  
  settings:
    title: Homelab
    theme: dark
    color: slate
    headerStyle: boxed
    layout:
      Media:
        style: column
        columns: 1
      Services:
        style: column
        columns: 1
      Monitoring:
        style: column
        columns: 1
      Infrastructure:
        style: column
        columns: 1
  
  bookmarks:
    - Developer:
        - Github:
            - abbr: GH
              href: https://github.com/
  
  services: []
  
  widgets:
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true
    - datetime:
        text_size: xl
        format:
          timeStyle: short

resources:
  requests:
    memory: 128Mi
    cpu: 50m
  limits:
    memory: 256Mi
    cpu: 200m